!function(){const t=function(t,e){return window.webkit.messageHandlers.bluetooth.postMessage({action:t,data:e})};class e{constructor(e){this.connect=async function(){const e=await t("connect",{uuid:this.device.id});return this.connected=e.connected,this},this.device=e,this.connected=!1}}class n extends EventTarget{constructor(t,n){super(),this.id=t,this.name=n,this.gatt=new e(this)}}class i extends EventTarget{constructor(){super(...arguments),this.getAvailability=async function(){return(await t("getAvailability")).isAvailable},this.getDevices=async function(){return(await t("getDevices")).map((t=>new n(t.id,t.name)))},this.requestDevice=async function(e){const i=await t("requestDevice",{options:e});return new n(i.id,i.name)}}}void 0===navigator.bluetooth&&(navigator.bluetooth=new i)}();
